# ChatForYou Python API Server

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**ChatForYou**ëŠ” ê²Œì„ ê°œë°œìì™€ ê²Œì„ ê¸°íšìë¥¼ ìœ„í•œ AI ê¸°ë°˜ ê²Œì„ ì½˜í…ì¸  ì¶”ì²œ API ì„œë²„ì…ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ëª©ì 
- ê²Œì„ ê°œë°œ ê³¼ì •ì—ì„œ ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ ë°œêµ´ ì§€ì›
- AIë¥¼ í™œìš©í•œ ê²Œì„ íƒ€ì´í‹€ ë° ì£¼ì œ ìë™ ìƒì„±
- ê²Œì„ ê¸°íš ë‹¨ê³„ì—ì„œì˜ íš¨ìœ¨ì„± í–¥ìƒ

### âœ¨ í•µì‹¬ ê¸°ëŠ¥
1. **ê²Œì„ íƒ€ì´í‹€ ì¶”ì²œ**: ë‹¤ì–‘í•œ ì¥ë¥´ì™€ ìŠ¤íƒ€ì¼ì˜ ê²Œì„ ì œëª© ìë™ ìƒì„±
2. **ê²Œì„ ì£¼ì œ ì¶”ì²œ**: íŠ¹ì • ê²Œì„ íƒ€ì´í‹€ì— ë§ëŠ” ì„¸ë¶€ ì£¼ì œ ë° ì½˜í…ì¸  ì•„ì´ë””ì–´ ì œê³µ
3. **ë§ì¶¤í˜• ì¶”ì²œ**: ì´ì „ ì¶”ì²œ ë‚´ì—­ì„ ê³ ë ¤í•œ ì¤‘ë³µ ë°©ì§€ ê¸°ëŠ¥
4. **ë‚œì´ë„ ì¡°ì ˆ**: ê²Œì„ ì£¼ì œì˜ ë³µì¡ë„ ë° ë‚œì´ë„ ì„¤ì • ê°€ëŠ¥

### ğŸ›  ê¸°ìˆ  ìŠ¤íƒ
- **Backend Framework**: FastAPI (Python)
- **AI Engine**: OpenAI ChatGPT API
- **API Architecture**: RESTful API
- **Containerization**: Docker
- **Environment Management**: Python Virtual Environment

### ğŸŒ ì„œë¹„ìŠ¤ ëŒ€ìƒ
- ê²Œì„ ê°œë°œì ë° ê¸°íšì
- ì¸ë”” ê²Œì„ ê°œë°œíŒ€
- ê²Œì„ ì•„ì´ë””ì–´ê°€ í•„ìš”í•œ í¬ë¦¬ì—ì´í„°
- ê²Œì„ ê´€ë ¨ êµìœ¡ ê¸°ê´€

### ğŸ”§ ì£¼ìš” íŠ¹ì§•
- **CORS ì§€ì›**: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥
- **RESTful API**: í‘œì¤€í™”ëœ HTTP ë©”ì„œë“œ ì‚¬ìš©
- **í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°**: ëª¨ë“ˆí™”ëœ ì„¤ê³„ë¡œ ê¸°ëŠ¥ í™•ì¥ ìš©ì´
- **Docker ì§€ì›**: ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ë°°í¬ ë° ì‹¤í–‰

## ğŸ“š ëª©ì°¨

- [ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •](#-ì„¤ì¹˜-ë°-í™˜ê²½-ì„¤ì •)
- [API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œ](#-api-ì—”ë“œí¬ì¸íŠ¸-ë¬¸ì„œ)
- [ì‹¤í–‰ ë°©ë²• ë° ì‚¬ìš© ì˜ˆì‹œ](#-ì‹¤í–‰-ë°©ë²•-ë°-ì‚¬ìš©-ì˜ˆì‹œ)
- [Docker ì‚¬ìš©ë²• ë° ë°°í¬](#-docker-ì‚¬ìš©ë²•-ë°-ë°°í¬)
- [ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)
- [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

## ğŸš€ ì„¤ì¹˜ ë° í™˜ê²½ ì„¤ì •

### ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
- **Python**: 3.11.6 ì´ìƒ
- **ìš´ì˜ì²´ì œ**: Windows, macOS, Linux
- **ë©”ëª¨ë¦¬**: ìµœì†Œ 2GB RAM ê¶Œì¥
- **ë””ìŠ¤í¬ ê³µê°„**: ìµœì†Œ 1GB ì—¬ìœ  ê³µê°„

### ğŸ”§ ì„¤ì¹˜ ê³¼ì •

#### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/your-username/ChatForYou_python_api.git
cd ChatForYou_python_api
```

#### 2. Python ê°€ìƒí™˜ê²½ ì„¤ì •
```bash
# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv .venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Windows
.venv\Scripts\activate

# macOS/Linux
source .venv/bin/activate
```

#### 3. ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
# pip ì—…ê·¸ë ˆì´ë“œ
pip install --upgrade pip

# í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
pip install -r requirements.txt
```

### ğŸ”‘ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

#### 1. .env íŒŒì¼ ìƒì„±
í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë‚´ìš©ì„ ì¶”ê°€í•˜ì„¸ìš”:

```env
# OpenAI API ì„¤ì •
OPENAI_API_KEY=your_openai_api_key_here

# ì„œë²„ ì„¤ì • (ì„ íƒì‚¬í•­)
HOST=0.0.0.0
PORT=8000
DEBUG=True
```

#### 2. OpenAI API í‚¤ ë°œê¸‰
1. [OpenAI ì›¹ì‚¬ì´íŠ¸](https://platform.openai.com/)ì— ì ‘ì†
2. ê³„ì • ìƒì„± ë˜ëŠ” ë¡œê·¸ì¸
3. API Keys ì„¹ì…˜ì—ì„œ ìƒˆ API í‚¤ ìƒì„±
4. ìƒì„±ëœ í‚¤ë¥¼ `.env` íŒŒì¼ì˜ `OPENAI_API_KEY`ì— ì…ë ¥

### ğŸ“¦ ì£¼ìš” ì˜ì¡´ì„± íŒ¨í‚¤ì§€

| íŒ¨í‚¤ì§€ | ë²„ì „ | ìš©ë„ |
|--------|------|------|
| fastapi | 0.99.1 | ì›¹ í”„ë ˆì„ì›Œí¬ |
| uvicorn | - | ASGI ì„œë²„ |
| langchain | 0.0.332 | LLM ì²´ì¸ ê´€ë¦¬ |
| openai | 0.28.0 | OpenAI API í´ë¼ì´ì–¸íŠ¸ |
| python-dotenv | 1.0.0 | í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ |
| pydantic | 1.10.12 | ë°ì´í„° ê²€ì¦ |

### âš ï¸ ì£¼ì˜ì‚¬í•­

1. **API í‚¤ ë³´ì•ˆ**: `.env` íŒŒì¼ì€ Git ì»¤ë°‹ X
2. **ê°€ìƒí™˜ê²½**: ë°˜ë“œì‹œ ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„± ì¶©ëŒì„ ë°©ì§€í•˜ì„¸ìš”
3. **Python ë²„ì „**: Python 3.11.6 ì´ìƒ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤
4. **ë„¤íŠ¸ì›Œí¬**: OpenAI API í˜¸ì¶œì„ ìœ„í•´ ì¸í„°ë„· ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤

### ğŸ” ì„¤ì¹˜ í™•ì¸

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ì •ìƒ ì‘ë™ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
# ì„œë²„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
python main.py

# ë˜ëŠ” uvicorn ì§ì ‘ ì‹¤í–‰
uvicorn main:app --reload
```

ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹œì‘ë˜ë©´ `http://localhost:8000`ì—ì„œ "Hello World" ë©”ì‹œì§€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“š API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œ

### ğŸŒ ê¸°ë³¸ ì •ë³´
- **Base URL**: `http://localhost:8000`
- **Content-Type**: `application/json`
- **CORS**: í—ˆìš©ëœ ë„ë©”ì¸ì—ì„œ ì§ì ‘ í˜¸ì¶œ ê°€ëŠ¥

### ğŸ“‹ ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

#### 1. ğŸ  ì„œë²„ ìƒíƒœ í™•ì¸
```http
GET /
```

**ì„¤ëª…**: ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ëŠ” í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸

**ì‘ë‹µ**:
```json
"Hello World"
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```bash
curl -X GET "http://localhost:8000/"
```

---

#### 2. ğŸ§ª í…ŒìŠ¤íŠ¸ ì—”ë“œí¬ì¸íŠ¸
```http
GET /test/{test}
```

**ì„¤ëª…**: ê²½ë¡œ ë§¤ê°œë³€ìˆ˜ í…ŒìŠ¤íŠ¸ìš© ì—”ë“œí¬ì¸íŠ¸

**ê²½ë¡œ ë§¤ê°œë³€ìˆ˜**:
- `test` (string): í…ŒìŠ¤íŠ¸í•  ë¬¸ìì—´

**ì‘ë‹µ**:
```json
{
  "test": "ì…ë ¥í•œ_í…ŒìŠ¤íŠ¸_ê°’"
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```bash
curl -X GET "http://localhost:8000/test/hello"
```

---

#### 3. ğŸ® ê²Œì„ íƒ€ì´í‹€ ì¶”ì²œ
```http
GET /game_titles
```

**ì„¤ëª…**: AIë¥¼ í™œìš©í•˜ì—¬ ìºì¹˜ë§ˆì¸ë“œ ê²Œì„ì— ì í•©í•œ ëŒ€ì£¼ì œ(íƒ€ì´í‹€)ë“¤ì„ ì¶”ì²œ

**ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜** (ì„ íƒì‚¬í•­):
- `number` (integer): ìƒì„±í•  íƒ€ì´í‹€ ê°œìˆ˜ (ê¸°ë³¸ê°’: 5)
- `excluded_titles` (array): ì œì™¸í•  íƒ€ì´í‹€ ëª©ë¡

**ìš”ì²­ ì˜ˆì‹œ**:
```bash
# ê¸°ë³¸ ìš”ì²­ (5ê°œ íƒ€ì´í‹€)
curl -X GET "http://localhost:8000/game_titles"

# ê°œìˆ˜ ì§€ì •
curl -X GET "http://localhost:8000/game_titles?number=3"

# ì œì™¸ íƒ€ì´í‹€ ì§€ì •
curl -X GET "http://localhost:8000/game_titles?excluded_titles=ë™ë¬¼&excluded_titles=ìŒì‹"
```

**ì‘ë‹µ í˜•ì‹**:
```json
{
  "titles": [
    "ë™ë¬¼",
    "ìŒì‹", 
    "êµí†µìˆ˜ë‹¨",
    "ì•…ê¸°",
    "ê³¼ì¼"
  ]
}
```

**ì‘ë‹µ í•„ë“œ**:
- `titles` (array): ì¶”ì²œëœ ê²Œì„ íƒ€ì´í‹€ ëª©ë¡

---

#### 4. ğŸ¯ ê²Œì„ ì£¼ì œ ì¶”ì²œ
```http
POST /game_subjects
```

**ì„¤ëª…**: íŠ¹ì • ëŒ€ì£¼ì œì— ë§ëŠ” ì„¸ë¶€ ì£¼ì œë“¤ì„ AIë¡œ ìƒì„±

**ìš”ì²­ ë°”ë””**:
```json
{
  "title": "ë™ë¬¼",
  "number": 5,
  "before_subjects": ["ê³ ì–‘ì´", "ê°•ì•„ì§€"],
  "difficulty": "medium"
}
```

**ìš”ì²­ í•„ë“œ**:
- `title` (string, í•„ìˆ˜): ëŒ€ì£¼ì œëª…
- `number` (integer, ì„ íƒ): ìƒì„±í•  ì£¼ì œ ê°œìˆ˜ (ê¸°ë³¸ê°’: 5)
- `before_subjects` (array, ì„ íƒ): ì´ì „ì— ì‚¬ìš©ëœ ì£¼ì œë“¤ (ì¤‘ë³µ ë°©ì§€)
- `difficulty` (string, ì„ íƒ): ë‚œì´ë„ ("easy", "medium", "hard", ê¸°ë³¸ê°’: "medium")

**ì‘ë‹µ í˜•ì‹**:
```json
{
  "title": "ë™ë¬¼",
  "subjects": [
    "í˜¸ë‘ì´",
    "ì½”ë¼ë¦¬", 
    "í­ê·„",
    "ê¸°ë¦°",
    "í† ë¼"
  ],
  "before_subjects": ["ê³ ì–‘ì´", "ê°•ì•„ì§€"],
  "difficulty": "medium"
}
```

**ì‘ë‹µ í•„ë“œ**:
- `title` (string): ìš”ì²­í•œ ëŒ€ì£¼ì œ
- `subjects` (array): ìƒì„±ëœ ì„¸ë¶€ ì£¼ì œ ëª©ë¡
- `before_subjects` (array): ì´ì „ ì£¼ì œë“¤
- `difficulty` (string): ì ìš©ëœ ë‚œì´ë„

**ì‚¬ìš© ì˜ˆì‹œ**:
```bash
curl -X POST "http://localhost:8000/game_subjects" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ìŒì‹",
    "number": 3,
    "difficulty": "easy"
  }'
```

### ğŸ”§ ë‚œì´ë„ ì„¤ëª…

| ë‚œì´ë„ | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `easy` | ì¼ìƒìƒí™œì—ì„œ ìì£¼ ì ‘í•˜ëŠ” ê¸°ë³¸ì ì¸ ê²ƒë“¤ | ê³ ì–‘ì´, ì‚¬ê³¼, ìë™ì°¨ |
| `medium` | ì ë‹¹í•œ ì¸ì§€ë„ë¥¼ ê°€ì§„ í‘œì¤€ì ì¸ ê²ƒë“¤ | ê¸°ë¦°, ì•„ë³´ì¹´ë„, í—¬ë¦¬ì½¥í„° |
| `hard` | ì¢€ ë” ì„¸ë¶„í™”ë˜ê±°ë‚˜ ì „ë¬¸ì ì¸ ê²ƒë“¤ | ì¹´ë©œë ˆì˜¨, ë‘ë¦¬ì•ˆ, ì ìˆ˜í•¨ |

### âš ï¸ ì˜¤ë¥˜ ì‘ë‹µ

ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ ì˜¤ë¥˜:

**400 Bad Request**:
```json
{
  "detail": "ìš”ì²­ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤"
}
```

**500 Internal Server Error**:
```json
{
  "detail": "ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
}
```

### ğŸ’¡ ì‚¬ìš© íŒ

1. **ê²Œì„ íƒ€ì´í‹€ ì¶”ì²œ**: ë¨¼ì € `/game_titles`ë¡œ ëŒ€ì£¼ì œë¥¼ ë°›ì€ í›„, ì„ íƒí•œ ì£¼ì œë¡œ `/game_subjects`ë¥¼ í˜¸ì¶œ
2. **ì¤‘ë³µ ë°©ì§€**: `excluded_titles`ì™€ `before_subjects`ë¥¼ í™œìš©í•˜ì—¬ ì¤‘ë³µëœ ì¶”ì²œ ë°©ì§€
3. **ë‚œì´ë„ ì¡°ì ˆ**: ì‚¬ìš©ì ìˆ˜ì¤€ì— ë§ê²Œ `difficulty` ë§¤ê°œë³€ìˆ˜ ì¡°ì •
4. **ë°°ì¹˜ ì²˜ë¦¬**: ì—¬ëŸ¬ ì£¼ì œê°€ í•„ìš”í•œ ê²½ìš° `number` ë§¤ê°œë³€ìˆ˜ë¡œ í•œ ë²ˆì— ìš”ì²­

## ğŸš€ ì‹¤í–‰ ë°©ë²• ë° ì‚¬ìš© ì˜ˆì‹œ

### ğŸƒâ€â™‚ï¸ ì„œë²„ ì‹¤í–‰ ë°©ë²•

#### ë°©ë²• 1: Python ì§ì ‘ ì‹¤í–‰
```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source .venv/bin/activate  # macOS/Linux
# ë˜ëŠ”
.venv\Scripts\activate     # Windows

# ì„œë²„ ì‹¤í–‰
python main.py
```

#### ë°©ë²• 2: uvicorn ëª…ë ¹ì–´ ì‚¬ìš©
```bash
# ê¸°ë³¸ ì‹¤í–‰
uvicorn main:app --reload

# í˜¸ìŠ¤íŠ¸ì™€ í¬íŠ¸ ì§€ì •
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# í”„ë¡œë•ì…˜ ëª¨ë“œ (reload ì—†ì´)
uvicorn main:app --host 0.0.0.0 --port 8000
```

#### ë°©ë²• 3: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
```bash
# nohupì„ ì‚¬ìš©í•œ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
nohup python main.py > server.log 2>&1 &

# ë˜ëŠ” uvicorn ì‚¬ìš©
nohup uvicorn main:app --host 0.0.0.0 --port 8000 > server.log 2>&1 &
```

### ğŸŒ ì„œë²„ ì ‘ì† í™•ì¸

ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒ URLì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- **ë¡œì»¬ ì ‘ì†**: http://localhost:8000
- **ë„¤íŠ¸ì›Œí¬ ì ‘ì†**: http://your-ip:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs (FastAPI ìë™ ìƒì„±)

### ğŸ“ ì‹¤ì œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ìºì¹˜ë§ˆì¸ë“œ ê²Œì„ ì¤€ë¹„

**1ë‹¨ê³„: ê²Œì„ ëŒ€ì£¼ì œ ë°›ê¸°**
```bash
curl -X GET "http://localhost:8000/game_titles?number=3"
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "titles": ["ë™ë¬¼", "ìŒì‹", "êµí†µìˆ˜ë‹¨"]
}
```

**2ë‹¨ê³„: ì„ íƒí•œ ì£¼ì œì˜ ì„¸ë¶€ í•­ëª© ë°›ê¸°**
```bash
curl -X POST "http://localhost:8000/game_subjects" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ë™ë¬¼",
    "number": 5,
    "difficulty": "easy"
  }'
```

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "title": "ë™ë¬¼",
  "subjects": ["ê³ ì–‘ì´", "ê°•ì•„ì§€", "í† ë¼", "ì‚¬ì", "ì½”ë¼ë¦¬"],
  "before_subjects": [],
  "difficulty": "easy"
}
```

**3ë‹¨ê³„: ì¶”ê°€ ë¼ìš´ë“œ (ì¤‘ë³µ ë°©ì§€)**
```bash
curl -X POST "http://localhost:8000/game_subjects" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ë™ë¬¼",
    "number": 5,
    "before_subjects": ["ê³ ì–‘ì´", "ê°•ì•„ì§€", "í† ë¼", "ì‚¬ì", "ì½”ë¼ë¦¬"],
    "difficulty": "medium"
  }'
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©

**JavaScript ì˜ˆì‹œ:**
```javascript
// ê²Œì„ íƒ€ì´í‹€ ê°€ì ¸ì˜¤ê¸°
async function getGameTitles() {
  try {
    const response = await fetch('http://localhost:8000/game_titles?number=5');
    const data = await response.json();
    console.log('ê²Œì„ íƒ€ì´í‹€:', data.titles);
    return data.titles;
  } catch (error) {
    console.error('ì˜¤ë¥˜:', error);
  }
}

// ê²Œì„ ì£¼ì œ ê°€ì ¸ì˜¤ê¸°
async function getGameSubjects(title, difficulty = 'medium') {
  try {
    const response = await fetch('http://localhost:8000/game_subjects', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        title: title,
        number: 5,
        difficulty: difficulty
      })
    });
    const data = await response.json();
    console.log('ê²Œì„ ì£¼ì œ:', data.subjects);
    return data.subjects;
  } catch (error) {
    console.error('ì˜¤ë¥˜:', error);
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
getGameTitles().then(titles => {
  if (titles && titles.length > 0) {
    getGameSubjects(titles[0], 'easy');
  }
});
```

**Python í´ë¼ì´ì–¸íŠ¸ ì˜ˆì‹œ:**
```python
import requests
import json

# ì„œë²„ URL
BASE_URL = "http://localhost:8000"

def get_game_titles(number=5, excluded_titles=None):
    """ê²Œì„ íƒ€ì´í‹€ ê°€ì ¸ì˜¤ê¸°"""
    params = {"number": number}
    if excluded_titles:
        params["excluded_titles"] = excluded_titles
    
    response = requests.get(f"{BASE_URL}/game_titles", params=params)
    return response.json()

def get_game_subjects(title, number=5, before_subjects=None, difficulty="medium"):
    """ê²Œì„ ì£¼ì œ ê°€ì ¸ì˜¤ê¸°"""
    data = {
        "title": title,
        "number": number,
        "difficulty": difficulty
    }
    if before_subjects:
        data["before_subjects"] = before_subjects
    
    response = requests.post(
        f"{BASE_URL}/game_subjects",
        headers={"Content-Type": "application/json"},
        data=json.dumps(data)
    )
    return response.json()

# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    # 1. ê²Œì„ íƒ€ì´í‹€ ë°›ê¸°
    titles_response = get_game_titles(number=3)
    print("ê²Œì„ íƒ€ì´í‹€:", titles_response["titles"])
    
    # 2. ì²« ë²ˆì§¸ íƒ€ì´í‹€ë¡œ ì£¼ì œ ë°›ê¸°
    if titles_response["titles"]:
        subjects_response = get_game_subjects(
            title=titles_response["titles"][0],
            number=5,
            difficulty="easy"
        )
        print("ê²Œì„ ì£¼ì œ:", subjects_response["subjects"])
```

### ğŸ”§ ì‹¤í–‰ ì‹œ ì£¼ì˜ì‚¬í•­

1. **í™˜ê²½ ë³€ìˆ˜ í™•ì¸**: `.env` íŒŒì¼ì— `OPENAI_API_KEY`ê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
2. **í¬íŠ¸ ì¶©ëŒ**: 8000ë²ˆ í¬íŠ¸ê°€ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ê²½ìš° ë‹¤ë¥¸ í¬íŠ¸ ì‚¬ìš©
3. **ë°©í™”ë²½**: ì™¸ë¶€ ì ‘ì†ì´ í•„ìš”í•œ ê²½ìš° ë°©í™”ë²½ ì„¤ì • í™•ì¸
4. **API í‚¤ í•œë„**: OpenAI API ì‚¬ìš©ëŸ‰ ë° ìš”ê¸ˆ í™•ì¸

### ğŸ› ë¬¸ì œ í•´ê²°

#### ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•ŠëŠ” ê²½ìš°
```bash
# í¬íŠ¸ ì‚¬ìš© í™•ì¸
lsof -i :8000  # macOS/Linux
netstat -ano | findstr :8000  # Windows

# í™˜ê²½ ë³€ìˆ˜ í™•ì¸
python -c "import os; print(os.getenv('OPENAI_API_KEY'))"
```

#### API í˜¸ì¶œ ì˜¤ë¥˜
```bash
# ì„œë²„ ìƒíƒœ í™•ì¸
curl -X GET "http://localhost:8000/"

# ë¡œê·¸ í™•ì¸
tail -f server.log  # ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ ì‹œ
```

#### CORS ì˜¤ë¥˜ (ì›¹ì—ì„œ í˜¸ì¶œ ì‹œ)
- í—ˆìš©ëœ ë„ë©”ì¸ ëª©ë¡ í™•ì¸: `localhost:8080`, `localhost:8443`, `hjproject.kro.kr`
- ë‹¤ë¥¸ ë„ë©”ì¸ì—ì„œ ì ‘ì† ì‹œ `main.py`ì˜ CORS ì„¤ì • ìˆ˜ì • í•„ìš”

### ğŸ“Š ì„±ëŠ¥ ìµœì í™”

#### í”„ë¡œë•ì…˜ í™˜ê²½ ì„¤ì •
```bash
# Gunicorn ì‚¬ìš© (ê¶Œì¥)
pip install gunicorn
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000

# ë˜ëŠ” uvicorn ì›Œì»¤ ìˆ˜ ì¦ê°€
uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4
```

#### ë¡œê·¸ ì„¤ì •
```python
# main.pyì— ë¡œê¹… ì¶”ê°€ ì˜ˆì‹œ
import logging

logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
```

## ğŸ³ Docker ì‚¬ìš©ë²• ë° ë°°í¬

### ğŸ“¦ Docker ì´ë¯¸ì§€ ë¹Œë“œ

#### ë¡œì»¬ ë¹Œë“œ
```bash
# ê¸°ë³¸ ë¹Œë“œ
docker build -t chatforyou-python-api .

# íƒœê·¸ ì§€ì • ë¹Œë“œ
docker build -t chatforyou-python-api:latest .
docker build -t chatforyou-python-api:v1.0.0 .
```

#### ë©€í‹° í”Œë«í¼ ë¹Œë“œ (ì„ íƒì‚¬í•­)
```bash
# ARM64ì™€ AMD64 ì§€ì›
docker buildx build --platform linux/amd64,linux/arm64 -t chatforyou-python-api:latest .
```

### ğŸš€ Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰

#### ê¸°ë³¸ ì‹¤í–‰
```bash
# í¬íŠ¸ ë§¤í•‘ìœ¼ë¡œ ì‹¤í–‰
docker run -p 8000:8000 chatforyou-python-api

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
docker run -d -p 8000:8000 --name chatforyou-api chatforyou-python-api
```

#### í™˜ê²½ ë³€ìˆ˜ì™€ í•¨ê»˜ ì‹¤í–‰
```bash
# í™˜ê²½ ë³€ìˆ˜ ì§ì ‘ ì§€ì •
docker run -p 8000:8000 \
  -e OPENAI_API_KEY=your_api_key_here \
  chatforyou-python-api

# .env íŒŒì¼ ì‚¬ìš©
docker run -p 8000:8000 \
  --env-file .env \
  chatforyou-python-api
```

#### ë³¼ë¥¨ ë§ˆìš´íŠ¸ (ë¡œê·¸ ì €ì¥)
```bash
# ë¡œê·¸ ë””ë ‰í† ë¦¬ ë§ˆìš´íŠ¸
docker run -p 8000:8000 \
  -v $(pwd)/logs:/app/logs \
  --env-file .env \
  chatforyou-python-api
```

### ğŸ”§ Docker Compose ì‚¬ìš©

#### docker-compose.yml íŒŒì¼ ìƒì„±
```yaml
version: '3.8'

services:
  chatforyou-api:
    build: .
    ports:
      - "8000:8000"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
    env_file:
      - .env
    volumes:
      - ./logs:/app/logs
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  # ì„ íƒì‚¬í•­: Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - chatforyou-api
    restart: unless-stopped
```

#### Docker Compose ì‹¤í–‰
```bash
# ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f chatforyou-api

# ì„œë¹„ìŠ¤ ì¤‘ì§€
docker-compose down

# ì´ë¯¸ì§€ ì¬ë¹Œë“œ í›„ ì‹œì‘
docker-compose up -d --build
```

### ğŸŒ ë°°í¬ í™˜ê²½

#### GitHub Container Registry ì‚¬ìš©
í”„ë¡œì íŠ¸ëŠ” GitHub Actionsë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ë¹Œë“œë˜ê³  ë°°í¬ë©ë‹ˆë‹¤.

**ìë™ ë°°í¬ ì›Œí¬í”Œë¡œìš°:**
1. `main` ë¸Œëœì¹˜ì— í‘¸ì‹œ ì‹œ ìë™ íŠ¸ë¦¬ê±°
2. Docker ì´ë¯¸ì§€ ë¹Œë“œ
3. GitHub Container Registryì— í‘¸ì‹œ
4. Kubernetes í´ëŸ¬ìŠ¤í„°ì— ìë™ ë°°í¬

### ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸

í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” GitHub Actionsë¥¼ í†µí•œ ìë™ ë°°í¬ê°€ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

1. **íŠ¸ë¦¬ê±°**: `main` ë¸Œëœì¹˜ í‘¸ì‹œ
2. **ë¹Œë“œ**: Docker ì´ë¯¸ì§€ ìƒì„±
3. **í‘¸ì‹œ**: GitHub Container Registryì— ì—…ë¡œë“œ
4. **ë°°í¬**: Kubernetes í´ëŸ¬ìŠ¤í„°ì— ìë™ ë°°í¬
5. **ê²€ì¦**: ë°°í¬ ìƒíƒœ í™•ì¸

ë°°í¬ ìƒíƒœëŠ” GitHub Actions íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ChatForYou í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê¸°ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### ğŸ› ë²„ê·¸ ë¦¬í¬íŠ¸
- GitHub Issuesì— ë²„ê·¸ ë¦¬í¬íŠ¸ ì‘ì„±
- ì¬í˜„ ê°€ëŠ¥í•œ ë‹¨ê³„ì™€ ì˜ˆìƒ ê²°ê³¼ í¬í•¨
- í™˜ê²½ ì •ë³´ (OS, Python ë²„ì „ ë“±) ëª…ì‹œ

### ğŸ’¡ ê¸°ëŠ¥ ì œì•ˆ
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì— ëŒ€í•œ ì•„ì´ë””ì–´ ì œì•ˆ
- ì‚¬ìš© ì‚¬ë¡€ì™€ êµ¬í˜„ ë°©ì•ˆ ì„¤ëª…
- ê¸°ì¡´ ê¸°ëŠ¥ê³¼ì˜ í˜¸í™˜ì„± ê³ ë ¤

### ğŸ”§ ì½”ë“œ ê¸°ì—¬
1. í”„ë¡œì íŠ¸ í¬í¬
2. ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„± (`git checkout -b feature/amazing-feature`)
3. ë³€ê²½ì‚¬í•­ ì»¤ë°‹ (`git commit -m 'Add amazing feature'`)
4. ë¸Œëœì¹˜ì— í‘¸ì‹œ (`git push origin feature/amazing-feature`)
5. Pull Request ìƒì„±

### ğŸ“ ë¬¸ì„œ ê°œì„ 
- README ê°œì„ 
- API ë¬¸ì„œ ë³´ì™„
- ì½”ë“œ ì£¼ì„ ì¶”ê°€

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ™ Thanks To

### í”„ë¡¬í”„íŠ¸ ì‘ì„± ë° ì œì‘ì— ë„ì›€
**HJH** :: h01068289030@gmail.com

---

**ChatForYou Python API Server** - AI ê¸°ë°˜ ê²Œì„ ì½˜í…ì¸  ì¶”ì²œ ì„œë¹„ìŠ¤

Made with â¤ï¸ by Sejonj